(this["webpackJsonpcovid-info-kerala"]=this["webpackJsonpcovid-info-kerala"]||[]).push([[0],{498:function(e,t,a){e.exports=a(597)},507:function(e,t,a){},508:function(e,t,a){},597:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),i=a.n(c),o=a(54),l=(a(507),a(508),a(28)),u=a(397),s=a.n(u),d=a(96);var f=Object(o.b)((function(e){return{covidInfo:JSON.parse(JSON.stringify(e.covidInfo.covidInfo))}}))((function(e){var t=e.covidInfo,a=[{title:"District",field:"district"},{title:"Active",field:"active",render:function(e){return function(e){return r.a.createElement("span",null,"".concat(e.active),r.a.createElement(d.a,{color:"error",variant:"caption"},"+".concat(e.newCases)))}(e)}},{title:"Confirmed",field:"confirmed"},{title:"Total Deaths",field:"deceased"},{title:"Recovered",field:"recovered"}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{labelRowsPerPage:14,data:t,columns:a,title:"Covid Cases",options:{paging:!1}}))})),m=a(3),v=a(400),p=a.n(v),O=a(401),E=a.n(O);var h=function(e){return function(t){var a=t.isLoading,n=t.message,c=Object(m.a)(t,["isLoading","message"]);return a?r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{active:a,spinner:r.a.createElement(E.a,null),text:n})):r.a.createElement(e,c)}},b=a(26),g=a(16),j=a(33),I=a(27),_=a(126),C=450-40-40,y=450-40-40,w=function(){function e(t,a){Object(j.a)(this,e);this.radius=Math.min(C,y)/2-40,this.g=_.e(t).append("svg").attr("width",C).attr("height",y).append("g").attr("transform","translate("+C/2+","+y/2+")"),this.color=_.d().range(a.map((function(e,t){return _.b(t/(2*a.length))}))),this.pie=_.c().value((function(e){return e.value})),this.arc=_.a().innerRadius(0).outerRadius(this.radius),this.update(a)}return Object(I.a)(e,[{key:"update",value:function(e){var t=this;t.data=e,t.color.domain(t.data.map((function(e){return e.name}))),t.g.selectAll("arc").data(t.pie(e)).enter().append("path").attr("d",t.arc).attr("fill",(function(e){return console.log("color",t.color(e.name),e),t.color(e.data.name)})).attr("stroke","black").style("stroke-width","2px").style("opacity",.7)}}]),e}();function F(e){var t=e.data,a=Object(n.useRef)(null),c=Object(n.useState)(null),i=Object(g.a)(c,2),o=i[0],l=i[1];return Object(n.useEffect)((function(){o?o.update(t):l(new w(a.current,t))}),[o,t]),r.a.createElement("div",{className:"chart-area",ref:a})}F.defaultProps={data:[{name:"Test",value:100},{name:"Test1",value:200},{name:"Test2",value:100}]};var D=F;var T=Object(o.b)((function(e){return{covidInfo:Object(b.a)(e.covidInfo.covidInfo)}}))((function(e){var t=e.covidInfo;return r.a.createElement(r.a.Fragment,null,r.a.createElement(D,{data:t.map((function(e){return{name:e.district,value:e.active}}))}))}));var S=Object(o.b)((function(e){return{isLoading:e.covidInfo.isLoading}}))(h((function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(f,null),r.a.createElement(T,null))}))),N=a(125),k=a.n(N),L=a(403),x=a(55),R=a(404),A=a.n(R),V=function(e){return{type:"FETCH_COVID_INFO_SUCCESS",payload:e}},H=function(e){return Object.keys(e).map((function(t){return Object(x.a)(Object(x.a)({district:t},e[t]),{},{newCases:e[t].delta.confirmed,newDeaths:e[t].delta.deceased,newRecoveries:e[t].delta.recovered})})).filter((function(e){return"Other State"!==e.district}))},P=a(360),J=Object(P.a)({container:{height:"100%",padding:20,overflowY:"auto"}});var M=Object(o.b)(null,(function(e){return{getCovidData:function(){return e(function(){var e=Object(L.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_COVID_INFO_START",payload:void 0}),e.prev=1,e.next=4,A.a.get("https://api.covid19india.org/state_district_wise.json");case 4:200!==(a=e.sent).status?t({type:"FETCH_COVID_INFO_FAIL"}):t(V(H(a.data.Kerala.districtData))),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),t({type:"FETCH_COVID_INFO_FAIL"});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}())}}}))((function(e){var t=e.getCovidData,a=J();return Object(n.useEffect)((function(){t()}),[]),r.a.createElement("div",{className:a.container},r.a.createElement(S,null))}));var U=function(e){return r.a.createElement("div",null,r.a.createElement(D,null))},B=a(625),K=a(352);var W=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,null,r.a.createElement(K.a,null,r.a.createElement(d.a,{variant:"h6"},"Covid Info Kerala"))))};var X=function(e){var t=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{style:{height:"64px"}},r.a.createElement(W,null)),r.a.createElement("main",{className:"main-container"},t))},Y=a(624),$=a(114),q=a(370),z=a(371),G=a(118),Q=a(121),Z=Object($.a)({palette:{primary:q.a,secondary:z.a,textPrimary:{main:"#9c27b0"},success:{main:"#ef5350"},error:{main:"#ef5350"}}}),ee=(Object($.a)({palette:{primary:G.a}}),Object($.a)({palette:{primary:Q.a}}),a(626));var te=function(){return r.a.createElement(Y.a,{theme:Z},r.a.createElement(ee.a,null),r.a.createElement(X,null,r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/"},r.a.createElement(M,null)),r.a.createElement(l.a,{exact:!0,path:"/about"},r.a.createElement(U,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ae=a(187),ne=a(56),re=Object(ne.b)({}),ce=a(60),ie=a(405),oe=a.n(ie),le=a(406),ue={},se={covidInfo:[],isLoading:!1},de=Object(ce.c)({basic:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"ADD":return Object(x.a)(Object(x.a)({},e),n);default:return e}},covidInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"FETCH_COVID_INFO_START":return Object(x.a)(Object(x.a)({},e),{},{isLoading:!0});case"FETCH_COVID_INFO_SUCCESS":return Object(x.a)(Object(x.a)({},e),{},{isLoading:!1,covidInfo:n});case"FETCH_COVID_INFO_FAIL":return Object(x.a)(Object(x.a)({},e),{},{isLoading:!1,covidInfo:Object(x.a)({},e)});default:return e}}}),fe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ce.d,me=Object(ce.e)(de,fe(Object(ce.a)(oe.a,le.a)));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,{store:me},r.a.createElement(ae.a,{history:re},r.a.createElement(te,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[498,1,2]]]);
//# sourceMappingURL=main.38d7cac8.chunk.js.map